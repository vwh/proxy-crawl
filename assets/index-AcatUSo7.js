import{r as c,j as e,R as C}from"./react-CFCE4xZu.js";import{c as N}from"./react-dom-C70hEFdC.js";import{a as O}from"./axios-C8DqakIB.js";import{S as L}from"./@radix-ui-DXjkpG3q.js";import{c as E}from"./class-variance-authority-Bb4qSo10.js";import{c as P}from"./clsx-B-dksMZM.js";import{t as T}from"./tailwind-merge-BOZU2X2x.js";import{L as I,A as _,C as z,S as A,a as $,b as X,F,c as D,d as U}from"./lucide-react-Clfu87V2.js";import"./scheduler-CzFDRTuY.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const M={"http/s":["https://openproxy.space/list/http","https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&protocol=http&proxy_format=ipport&format=text&timeout=20000","https://proxyspace.pro/http.txt","https://rootjazz.com/proxies/proxies.txt","https://spys.me/proxy.txt","https://proxyhub.me/en/all-http-proxy-list.html","https://proxy-tools.com/proxy/http","https://www.proxy-list.download/api/v1/get?type=http","https://www.proxynova.com/proxy-server-list/","https://cdn.rei.my.id/proxy/HTTP","https://raw.githubusercontent.com/monosans/proxy-list/main/proxies/http.txt","https://raw.githubusercontent.com/zevtyardt/proxy-list/main/http.txt","https://raw.githubusercontent.com/ALIILAPRO/Proxy/main/http.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/http.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/https.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/http.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/https.txt","https://raw.githubusercontent.com/aslisk/proxyhttps/master/https.txt","https://raw.githubusercontent.com/hendrikbgr/Free-Proxy-Repo/master/proxy_list.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/https.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/http.txt","https://raw.githubusercontent.com/roosterkid/openproxylist/master/HTTPS_RAW.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/https.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/http.txt","https://raw.githubusercontent.com/Tsprnay/Proxy-lists/master/proxies/http.txt","https://raw.githubusercontent.com/Tsprnay/Proxy-lists/master/proxies/https.txt"],socks4:["https://openproxy.space/list/socks4","https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&protocol=socks4&proxy_format=ipport&format=text&timeout=20000","https://proxyspace.pro/socks4.txt","https://www.proxy-list.download/api/v1/get?type=socks4","https://proxyhub.me/en/all-socks4-proxy-list.html","https://www.my-proxy.com/free-socks-4-proxy.html","https://www.socks-proxy.net/","https://cdn.rei.my.id/proxy/SOCKS4","https://raw.githubusercontent.com/monosans/proxy-list/main/proxies/socks4.txt","https://raw.githubusercontent.com/zevtyardt/proxy-list/main/socks4.txt","https://raw.githubusercontent.com/ALIILAPRO/Proxy/main/socks4.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/socks4.txt","https://raw.githubusercontent.com/noarche/proxylist-socks5-sock4-exported-updates/main/socks4-online.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/socks4.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/socks4.txt","https://raw.githubusercontent.com/roosterkid/openproxylist/master/SOCKS4_RAW.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/socks4.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/http.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/httpS.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/socks4.txt","https://raw.githubusercontent.com/Tsprnay/Proxy-lists/master/proxies/socks4.txt"],socks5:["https://openproxy.space/list/socks5","https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&protocol=socks5&proxy_format=ipport&format=text&timeout=20000","https://proxyspace.pro/socks5.txt","https://www.proxy-list.download/api/v1/get?type=socks5","https://proxy-tools.com/proxy/socks5","https://proxyhub.me/en/all-sock5-proxy-list.html","https://cdn.rei.my.id/proxy/SOCKS5","https://raw.githubusercontent.com/hookzof/socks5_list/master/proxy.txt","https://raw.githubusercontent.com/monosans/proxy-list/main/proxies/socks5.txt","https://raw.githubusercontent.com/zevtyardt/proxy-list/main/socks5.txt","https://raw.githubusercontent.com/ALIILAPRO/Proxy/main/socks5.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/socks5.txt","https://raw.githubusercontent.com/noarche/proxylist-socks5-sock4-exported-updates/main/socks5-online.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/socks5.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/socks5.txt","https://raw.githubusercontent.com/roosterkid/openproxylist/master/SOCKS5_RAW.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/socks5.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/socks5.txt","https://raw.githubusercontent.com/Tsprnay/Proxy-lists/master/proxies/socks5.txt"]},B=/(?:^|\D)(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}:\d{1,5})(?:\D|$)/g,w=["","https://cors.eu.org/","https://corsproxy.io/?"],K=async t=>{if(!t.match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/))return console.error("Invalid URL:",t),[];for(let o=0;o<w.length;o++)try{const a=w[o]+t,l=(await O.get(a,{timeout:30*1e3})).data.match(B);if(!l){console.log(`No proxies found in attempt ${o+1} for ${a}`);continue}const g=l.map(p=>p.trim()).filter(p=>p&&!p.includes("127.0.0.1")).map(p=>p.replace(/"/g,"").replace(/>/g,""));return console.log(`Attempt ${o+1} successful for ${a}`),g}catch(a){console.error(`Attempt ${o+1} failed for ${w[o]+t}:`,a),o===w.length-1&&console.error(`All attempts failed for ${t}`)}return[]},Y=E("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function j(...t){return T(P(t))}const x=c.forwardRef(({className:t,variant:r,size:o,asChild:a=!1,...s},n)=>{const l=a?L:"button";return e.jsx(l,{className:j(Y({variant:r,size:o,className:t})),ref:n,...s})});x.displayName="Button";const S=c.forwardRef(({className:t,...r},o)=>e.jsx("textarea",{className:j("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...r}));S.displayName="Textarea";const Z=[{name:"http/s",label:"HTTP/S"},{name:"socks4",label:"SOCKS4"},{name:"socks5",label:"SOCKS5"}];function q({setResults:t,setLengths:r}){const[o,a]=c.useState(!1),[s,n]=c.useState(!1),[l,g]=c.useState("http/s"),[p,u]=c.useState(()=>{const i=localStorage.getItem("resources");if(i)try{return JSON.parse(i)}catch(m){console.error("Failed to parse saved resources:",m)}return M}),h=c.useCallback(i=>{g(i)},[]),v=c.useCallback(i=>{const m=i.target.value.split(`
`).filter(Boolean);u(y=>({...y,[l]:m}))},[l]),b=c.useCallback(async()=>{n(!0),t([]),r({oldLength:0,newLength:0});try{const m=Array.from(new Set(Object.values(p[l]).flat())).map(async y=>{const k=(await K(y)).flat().filter(d=>typeof d=="string");r(d=>({...d,oldLength:d.oldLength+k.length})),t(d=>[...d,...k])});await Promise.all(m)}catch(i){console.error("Error during crawling:",i)}finally{t(i=>{const m=Array.from(new Set(i));return r(y=>({...y,newLength:m.length})),m}),n(!1)}},[p,l,t,r]),f=c.useCallback(()=>{a(!0);try{localStorage.setItem("resources",JSON.stringify(p)),console.log("Resources saved successfully.")}catch(i){console.error("Failed to save resources:",i)}finally{setTimeout(()=>a(!1),2e3)}},[p]),R=c.useMemo(()=>Z.map(i=>e.jsx(x,{variant:l===i.name?"default":"outline",className:"w-full transition-colors duration-200 ease-in-out",onClick:()=>h(i.name),title:`Switch to ${i.label}`,disabled:s,children:i.label},i.name)),[l,s,h]);return e.jsxs("section",{className:"flex grow flex-col gap-4 rounded-lg bg-gray-700 p-4 shadow-md",children:[e.jsx("div",{className:"flex gap-2",children:R}),e.jsx(S,{placeholder:"Proxy resources",className:"h-full resize-none text-sm focus:ring-2 focus:ring-primary",spellCheck:!1,value:p[l].join(`
`),onChange:v,disabled:s}),e.jsxs("div",{className:"flex w-full gap-2",children:[e.jsxs(x,{variant:"default",className:"w-full grow bg-primary transition-colors duration-200 ease-in-out",onClick:b,disabled:s,title:s?"Crawling in progress":"Start Crawling",children:[e.jsx("span",{className:"mr-2 font-semibold",children:s?"Crawling":"Start Crawling"}),s?e.jsx(I,{size:18,className:"animate-spin"}):e.jsx(_,{size:18})]}),e.jsx(x,{variant:"outline",className:"transition-colors duration-200 ease-in-out",title:"Save resources",onClick:f,disabled:s,children:o?e.jsx(z,{size:18,className:"opacity-100 transition-opacity duration-300 ease-in"}):e.jsx(A,{size:18,className:"opacity-100 transition-opacity duration-300 ease-in"})})]})]})}function G(){const t=new Date,r=t.getFullYear().toString().slice(-2),o=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0");return`${r}-${o}-${a}`}const J=[{format:"txt",label:"Save as TEXT",icon:F},{format:"csv",label:"Save as CSV",icon:D},{format:"json",label:"Save as JSON",icon:U}];function V({results:t,lengths:r}){const[o,a]=c.useState(!1),s=c.useCallback(u=>{switch(u){case"txt":return t.join(`
`);case"csv":return t.map(h=>`"${h.replace(/"/g,'""')}"`).join(`
`);case"json":return JSON.stringify(t,null,2);default:throw new Error(`Unsupported export format: ${u}`)}},[t]),n=c.useCallback(u=>{const h=s(u),v=new Blob([h],{type:"text/plain"}),b=URL.createObjectURL(v),f=document.createElement("a");f.href=b,f.download=`proxy-${G()}.${u}`,f.click(),URL.revokeObjectURL(b)},[s]),l=c.useCallback(()=>{a(!0),navigator.clipboard.writeText(t.join(`
`)),setTimeout(()=>a(!1),2e3)},[t]),g=c.useMemo(()=>t.join(`
`),[t]),p=c.useMemo(()=>J.map(u=>e.jsxs(x,{className:"flex w-full items-center justify-center transition-colors duration-200 ease-in-out",variant:"outline",onClick:()=>n(u.format),title:u.label,disabled:!t.length,children:[e.jsx(u.icon,{className:"mr-2",size:18}),u.label]},u.format)),[t.length,n]);return e.jsxs("section",{className:"relative flex grow flex-col gap-4 rounded-lg bg-gray-700 p-4 shadow-md",children:[t.length>0&&e.jsx("p",{className:"absolute left-0 top-0 z-50 w-full rounded-t bg-primary p-2 text-sm text-background",children:r.newLength>0?e.jsxs("span",{children:[t.length," Results after removing"," ",Math.abs(r.oldLength-r.newLength)," duplicates"]}):e.jsxs("span",{children:[t.length," Results"]})}),e.jsx(S,{placeholder:"Crawled results",className:`grow resize-none focus:ring-2 focus:ring-blue-500 ${t.length?"mt-8":"mt-0"}`,value:g,disabled:!t.length,readOnly:!0}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 md:grid-cols-3 md:gap-2",children:[p,e.jsxs(x,{className:"flex w-full items-center justify-center transition-colors duration-200 ease-in-out md:col-span-3",variant:"outline",onClick:l,title:"Copy results to clipboard",disabled:!t.length,children:[o?e.jsx($,{className:"mr-2",size:18}):e.jsx(X,{className:"mr-2",size:18}),"Copy to clipboard"]})]})]})}function H(){const[t,r]=c.useState([]),[o,a]=c.useState({oldLength:0,newLength:0});return e.jsx("main",{className:"container mx-auto h-screen p-4",children:e.jsxs("div",{className:"flex h-full flex-col gap-4 pb-7",children:[e.jsx(q,{setResults:r,setLengths:a}),e.jsx(V,{results:t,lengths:o})]})})}function W(){return e.jsx("footer",{className:"fixed bottom-0 z-50 w-full border-t bg-background",children:e.jsx("ul",{className:"flex items-center justify-center px-5 py-1",children:e.jsx("li",{children:e.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/vwh/proxy-crawl",className:"hover:underline",children:e.jsxs("strong",{className:"text-sm text-primary",children:["Start us ",e.jsx("span",{className:"animate-pulse",children:"⭐️"})," on GitHub"]})})})})})}N.createRoot(document.getElementById("root")).render(e.jsxs(C.StrictMode,{children:[e.jsx(H,{}),e.jsx(W,{})]}));
